!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("elementUIExtend",[],t):"object"==typeof exports?exports.elementUIExtend=t():e.elementUIExtend=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=3)}([function(e,t){e.exports=function(e,t,a,n,r,i){var l,o=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(l=e,o=e.default);var u="function"==typeof o?o.options:o;t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),a&&(u.functional=!0),r&&(u._scopeId=r);var c;if(i?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=c):n&&(c=n),c){var d=u.functional,h=d?u.render:u.beforeCreate;d?(u._injectStyles=c,u.render=function(e,t){return c.call(t),h(e,t)}):u.beforeCreate=h?[].concat(h,c):[c]}return{esModule:l,exports:o,options:u}}},function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r=a(8),i=a.n(r),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.a={name:"combo-grid",mixins:[i.a],model:{prop:"selectValue",event:"change"},props:{selectValue:{type:[Array,String,Number],required:!0},selectShowValue:{type:[Array,String],default:this.multiple?[]:""},multiple:{type:Boolean,default:!1},searchParam:{type:Object,default:function(){return{}}},pageSize:{type:Number,default:6},dataUrlFunc:{type:Function,default:null},collapseTags:{default:!0,type:Boolean},clearable:{default:!1,type:Boolean},filterable:{default:!0,type:Boolean},filterField:{default:"",type:String},id:{default:"value",type:String},text:{default:"text",type:String},placeholder:{type:String,default:"请选择"},size:{default:"small",type:String},disabled:{type:Boolean,default:!1}},data:function(){return{loading:!1,queryStr:"",listData:[],currentPage:1,total:0,val:this.multiple?[]:"",originalSelectObj:{},originalSelectValue:JSON.parse(JSON.stringify(this.selectValue))}},watch:{selectShowValue:{immediate:!0,handler:function(e){var t=this;if(e instanceof Array){var a={};this.selectShowValue.forEach(function(e,n){a[e]=t.selectValue[n]}),this.originalSelectObj=a,this.originalSelectValue=JSON.parse(JSON.stringify(this.selectValue))}else this.originalSelectObj=n({},this.selectShowValue,this.selectValue),this.originalSelectValue=this.selectValue;this.val=this.selectShowValue}}},mounted:function(){this.getRemoteData()},methods:{remoteMethod:function(e){if(this.queryStr=e,""!==e){this.currentPage=1;var t={};this.filterField?t[this.filterField]=e:t[this.text]=e,this.getRemoteData(t)}else this.getRemoteData()},getRemoteData:function(e){var t=this;this.dataUrlFunc&&(this.loading=!0,this.dataUrlFunc(l({pageSize:this.pageSize,pageNum:this.currentPage},this.searchData,e)).then(function(e){t.loading=!1,"0"===e.code&&(t.listData=e.rows,t.total=e.total,e.rows.length>0&&null!==t.originalSelectValue&&t.setSelected(e.rows))}))},setSelected:function(e){var t=this;if(this.multiple){var a=JSON.parse(JSON.stringify(this.val));e.forEach(function(e){var n=t.originalSelectValue.indexOf(e[t.id]);n>-1&&(a.splice(n,1,e[t.id]),t.originalSelectValue.splice(n,1,void 0))}),this.val=a}else void 0!==this.originalSelectValue&&e.forEach(function(e){t.originalSelectValue===e[t.id]&&(t.val=e[t.id],t.originalSelectValue=void 0)})},onCurrentPageChange:function(e){this.currentPage=e,this.getRemoteData()},visibleChange:function(e){e&&(this.currentPage=1,this.getRemoteData())},setSelectValue:function(e){var t=this;if(this.multiple){var a=[];e.forEach(function(e){void 0!==t.originalSelectObj[e]?a.push(t.originalSelectObj[e]):a.push(e)}),this.$emit("change",a),this.dispatch("ElFormItem","el.form.change",a)}else{this.originalSelectValue=void 0;var n=this.listData.filter(function(a){return a[t.id]===e});this.$emit("change",e,n[0]),this.dispatch("ElFormItem","el.form.change",e)}},removeSelectVal:function(e){var t=this.originalSelectObj[e];if(void 0!==t){var a=this.originalSelectValue.indexOf(t);a>-1&&this.originalSelectValue.splice(a,1,void 0)}}}}},function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.a={name:"pagination-table",props:{height:{type:[Number,String]},stripe:{type:Boolean,default:!1},border:{type:Boolean,default:!0},fit:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},highlightCurrentRow:{type:Boolean,default:!1},currentRowKey:{type:[Number,String]},rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],emptyText:String,spanMethod:Function,showSummary:{type:Boolean,default:!1},sumText:{type:String,default:"合计"},summaryMethod:Function,small:Boolean,background:{type:Boolean,default:!0},pageSize:{type:Number,default:50},pagerCount:Number,layout:{type:String,default:"prev, pager, next, sizes, jumper"},pageSizes:{type:Array,default:function(){return[10,20,30,50,100,200]}},popperClass:String,searchParam:{default:function(){return{}},type:Object},autoLoad:{default:!0,type:Boolean},dataUrlFunc:{type:Function,default:function(){return function(){}}},verticalResizeOffset:{type:Number,default:60},hasTotal:{type:Boolean,default:!0},searchField:{type:Object,default:function(){return{sortType:"sortType|asc|desc",sortName:"sortName",pageNum:"pageNum",pageSize:"pageSize"}}}},data:function(){return{tableHeight:-1,loading:!1,tableData:[],total:0,currentPage:1,currentPageSize:this.pageSize,currentSelectTotal:0,sortName:"",sortType:"",sortTypeField:this.searchField.sortType.split("|")[0],sortTypeAscField:this.searchField.sortType.split("|")[1],sortTypeDescField:this.searchField.sortType.split("|")[2],sortNameField:this.searchField.sortName,pageNumField:this.searchField.pageNum,pageSizeField:this.searchField.pageSize}},watch:{searchParam:function(){this.currentPage=1,this.$refs.myTable.clearSort(),this.sortType="",this.sortName="",this.getTableData()}},mounted:function(){var e=this;this.autoLoad&&this.getTableData(),this.$nextTick(function(){e.setTableHeight()})},methods:{getTableData:function(){var e,t=this;if(this.dataUrlFunc){this.loading=!0;var a=r((e={},n(e,this.pageNumField,this.currentPage),n(e,this.pageSizeField,this.currentPageSize),n(e,this.sortNameField,this.sortName),n(e,this.sortTypeField,this.sortType),e),this.searchParam);this.dataUrlFunc(a).then(function(e){"0"===e.code&&(t.tableData=e.rows,t.total=e.total),t.loading=!1})}},pageSizeChange:function(){this.currentPage=1,this.getTableData()},currentPageChange:function(){this.getTableData()},selectChange:function(e,t){this.currentSelectTotal=e.length,this.$emit("on-select",e,t)},selectALL:function(e){this.currentSelectTotal=e.length,this.$emit("on-select-all",e)},selectGroupChange:function(e){this.currentSelectTotal=e.length,this.$emit("on-selection-change",e)},rowClick:function(e,t,a){this.$refs.myTable.toggleRowSelection(e),this.$emit("on-row-click",e,t,a)},rowDblClick:function(e,t){this.$emit("on-row-dblclick",e,t)},sortChange:function(e){this.sortName=null===e.prop?"":e.prop,"ascending"===e.order?this.sortType=this.sortTypeAscField:"descending"===e.order?this.sortType=this.sortTypeDescField:this.sortType="",this.$emit("on-sort-change",this.sortName,this.sortType),this.getTableData()},initTableHeight:function(){if(this.height)return this.height;if(document.getElementsByClassName("pagination-table-wrap").length>0)return document.documentElement.clientHeight-this.$refs.tableBox.getBoundingClientRect().top-this.verticalResizeOffset},setTableHeight:function(){this.tableHeight=this.initTableHeight()}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a(4);var n=a(5),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=r.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.validator=t.formatter=t.paginationTable=t.comboGrid=void 0;var r=a(6),i=n(r),l=a(10),o=n(l),s=a(13),u=n(s),c=a(14),d=n(c);"undefined"!=typeof window&&window.Vue&&install(window.Vue),t.comboGrid=i.default,t.paginationTable=o.default,t.formatter=u.default,t.validator=d.default;var h={comboGrid:i.default,paginationTable:o.default,formatter:u.default,components:["comboGrid","paginationTable"],methods:["formatter"],install:function(e){var t=this;this.components.forEach(function(a){e.component(a,t[a])}),this.methods.forEach(function(a){e.prototype["$"+a]=t[a]})}};t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(7),r=function(e){return e&&e.__esModule?e:{default:e}}(n);r.default.install=function(e){e.component(r.default.name,r.default)},t.default=r.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=a(9),i=a(0),l=i(n.a,r.a,!1,null,null,null);t.default=l.exports},function(e,t,a){"use strict";function n(e,t,a){this.$children.forEach(function(r){r.$options.componentName===e?r.$emit.apply(r,[t].concat(a)):n.apply(r,[e,t].concat([a]))})}Object.defineProperty(t,"__esModule",{value:!0}),t.default={methods:{dispatch:function(e,t,a){for(var n=this.$parent||this.$root,r=n.$options.componentName;n&&(!r||r!==e);)(n=n.$parent)&&(r=n.$options.componentName);n&&n.$emit.apply(n,[t].concat(a))},broadcast:function(e,t,a){n.call(this,e,t,a)}}}},function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"comboGrid",staticClass:"combo-grid-wrap"},[a("el-select",{attrs:{multiple:e.multiple,disabled:e.disabled,placeholder:e.placeholder,size:e.size,"collapse-tags":e.collapseTags,clearable:e.clearable,"reserve-keyword":"",loading:e.loading,remote:e.filterable,filterable:e.filterable,"remote-method":e.remoteMethod},on:{"visible-change":e.visibleChange,change:e.setSelectValue,"remove-tag":e.removeSelectVal},model:{value:e.val,callback:function(t){e.val=t},expression:"val"}},[e._l(e.listData,function(t){return a("el-option",{key:t[e.id],attrs:{label:t[e.text],value:t[e.id]}},[a("span",{staticClass:"combo-grid-checkbox"}),e._v(" "),a("span",{staticStyle:{"padding-left":"10px"}},[e._v(e._s(t[e.text]))])])}),e._v(" "),a("div",{staticClass:"cg-pagination"},[a("el-pagination",{attrs:{layout:"prev, pager, next","page-size":e.pageSize,total:e.total,"current-page":e.currentPage,small:!0,background:!0,"page-count":5},on:{"update:currentPage":function(t){e.currentPage=t},"current-change":e.onCurrentPageChange}})],1)],2)],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),r=function(e){return e&&e.__esModule?e:{default:e}}(n);r.default.install=function(e){e.component(r.default.name,r.default)},t.default=r.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),r=a(12),i=a(0),l=i(n.a,r.a,!1,null,null,null);t.default=l.exports},function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"tableBox",staticClass:"pagination-table-wrap"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"myTable",attrs:{data:e.tableData,height:e.tableHeight,stripe:e.stripe,border:e.border,fit:e.fit,size:"small","show-header":e.showHeader,"highlight-current-row":e.highlightCurrentRow,"current-row-key":e.currentRowKey,"row-class-name":e.rowClassName,"row-style":e.rowStyle,"cell-class-name":e.cellClassName,"cell-style":e.cellStyle,"header-row-class-name":e.headerRowClassName,"header-row-style":e.headerRowStyle,"empty-text":e.emptyText,"span-method":e.spanMethod,"show-summary":e.showSummary,"sum-text":e.sumText,"summary-method":e.summaryMethod},on:{select:e.selectChange,"select-all":e.selectALL,"selection-change":e.selectGroupChange,"row-click":e.rowClick,"row-dblclick":e.rowDblClick,"sort-change":e.sortChange}},[e._t("tableColumns"),e._v(" "),e._t("empty")],2),e._v(" "),a("div",{staticClass:"page-wrap"},[a("el-pagination",{attrs:{small:e.small,background:e.background,"page-size":e.currentPageSize,total:e.total,"pager-count":e.pagerCount,"current-page":e.currentPage,layout:e.layout,"page-sizes":e.pageSizes,"popper-class":e.popperClass},on:{"update:pageSize":function(t){e.currentPageSize=t},"update:currentPage":function(t){e.currentPage=t},"size-change":e.pageSizeChange,"current-change":e.currentPageChange}}),e._v(" "),e.hasTotal?a("div",{staticClass:"page-total"},[e._v("已选"+e._s(e.currentSelectTotal)+"条，共"+e._s(e.total)+"条数据")]):e._e()],1)],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={moneyFormatter:function(e){return e||(e=0),this.numberToMoney(e)},dateFormatter:function(e,t){if(""===e)return null;var a={"M+":e.getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in a)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?a[n]:("00"+a[n]).substr((""+a[n]).length)));return t},numberToMoney:function(e){if(isNaN(e)&&"string"!=typeof e)return e;e=""+e,e=e.replace(/,/g,""),e=(e+"").split(".");var t=e[0].split("").reverse(),a=e[1];a=a?1===a.length?"."+a+"0":2===a.length?"."+a:"."+a.substr(0,2):".00";for(var n="",r=0;r<t.length;r++)n+=t[r]+((r+1)%3==0&&r+1!==t.length&&"-"!==t[r+1]?",":"");return n.split("").reverse().join("")+a}};t.default=n},function(e,t,a){"use strict";function n(e){var t=0;for(var a in e){var n=e.codePointAt(a);n>=0&&n<=128?t++:t+=2}return t}Object.defineProperty(t,"__esModule",{value:!0});var r=/^1[34578]\d{9}$/,i=/^((0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/,l=function(e,t,a){""===t||r.test(t)?a():a(new Error("请输入正确手机号码!"))},o=function(e,t,a){""===t||i.test(t)?a():a(new Error("请输入正确的固定电话!"))},s=function(e,t,a){""===t||r.test(t)||""===t||i.test(t)?a():a(new Error("请输入正确的联系电话!"))},u=function(e,t,a){var n=/^(?![0-9a-z]+$)(?![0-9A-Z]+$)(?![0-9\W]+$)(?![a-z\W]+$)(?![a-zA-Z]+$)(?![A-Z\W]+$)[a-zA-Z0-9\W_]+$/;""===t?a(new Error("密码不能为空！")):t.length<8?a(new Error("密码不能少于八位！")):n.test(t)?a():a(new Error("密码必须由数字,大写字母,小写字母,特殊符,其中至少三种组成！"))},c=function(e,t,a){var r=e.length;n(t)>r?a(new Error("不能超出"+r+"个字符！")):a()},d=function(e,t,a){var n=/^[0-9]*$/;""===t||n.test(t)?a():a(new Error("请输入正整数！"))},h=function(e,t,a){var n=e.decimal,r=/^\d+\.?\d*$/;if(""!==pub.strim(t))if(r.test(t)){var i=t.split(".");i.length>1&&i[1].length>n?a(new Error("请精确到小数后"+n+"位！")):a()}else a(new Error("请输入数字值！"));else a()},f=function(e,t,a){t.length<=0?a(new Error(e.message)):a()};t.validateMobile=l,t.validateTel=o,t.validatePhone=s,t.validatePwd=u,t.validateLength=c,t.requiredArr=f,t.validateNum=d,t.vaildateDecimal=h,t.default={validateMobile:l,validateTel:o,validatePhone:s,validatePwd:u,validateLength:c,requiredArr:f,validateNum:d,vaildateDecimal:h}}])});
//# sourceMappingURL=element-ui-extend.js.map